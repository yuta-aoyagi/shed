# Docker コンテナ内で Alpine Linux + TeX Live

Alpine Linux にはさんざんお世話になってるが、「 TeX Live 関連の apk パッケージについてはいまいち俺の方針には合わない」と、先月下旬に試し始めて数日で判明した。
そこで、(ストレージが数 GB ばかり非効率に使われるのを許容できる人なら無用だった)試行錯誤を始めたが、ここまで苦労すると先に知っていたら始めなかったかもしれない。

さて、 TeX Live のパッケージは数千あり、コレクションはパッケージの集まり、スキームはコレクションの集まりである。
そして Alpine Linux の texmf-dist パッケージは TeX Live のコレクションに相当する粒度で提供されている。
仮想ディスクを1.25 GiB に設定した VM で、「主に日本語で書く Beamer プレゼンテーション」を作るのに必要なパッケージの組み合わせを探したところ、途中でディスクが足りなくなった。
加えて、試行錯誤の過程で見たエラーメッセージから足りなかったファイルを探したところ texmf-dist-langgerman に収録されてる、というあたりで Alpine Linux が提供する TeX Live パッケージ群を使うのをあきらめることにした。
書く予定もないドイツ語向けのパッケージまで引き込むことになるのはさすがに受け入れにくかったもので。

最終的にできあがったのは、必要だったものを自分で列挙して infraonly スキームの上に tlmgr install する Dockerfile である。
どうしてこうなった。

---

Alpine Linux のパッケージ管理よりも TeX Live のパッケージ管理が柔軟であり、今回はここで踏みとどまれた。
できあがる Docker イメージには、(使う予定はなかったのに何かのパッケージからの依存で) LuaTeX 系のエンジンもインストールされたので、最小には程遠い。
さらなる柔軟性を求めるなら Web2C レイヤーからの野良ビルドが選択肢だっただろうが、今回は手を出さずに済んだ。
